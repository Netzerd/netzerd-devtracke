<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de AdministraciÃ³n - Netzerd</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <!-- LOGIN SCREEN -->
    <div id="login-screen" class="auth-container">
        <div class="auth-box">
            <div class="auth-header">
                <h1>ğŸ¨ Panel de AdministraciÃ³n</h1>
                <p>Ingresa tus credenciales para acceder</p>
            </div>
            <form id="login-form" class="auth-form">
                <div class="form-group">
                    <label>ğŸ“§ Correo ElectrÃ³nico</label>
                    <input type="email" id="admin-email" class="form-input" required>
                </div>
                <div class="form-group">
                    <label>ğŸ” ContraseÃ±a</label>
                    <input type="password" id="admin-password" class="form-input" required>
                </div>
                <button type="submit" class="btn-primary">Iniciar SesiÃ³n</button>
                <div id="login-error" class="error-message"></div>
            </form>
        </div>
    </div>

    <!-- ADMIN PANEL -->
    <div id="admin-panel" class="admin-panel" style="display: none;">
        <header class="admin-header">
            <div class="header-content">
                <h1>ğŸ¨ Panel de AdministraciÃ³n - Netzerd</h1>
                <div class="header-actions">
                    <span class="admin-user" id="admin-user"></span>
                    <button id="logout-btn" class="btn-logout">Cerrar SesiÃ³n</button>
                </div>
            </div>
        </header>

        <nav class="admin-nav">
            <button class="nav-btn active" onclick="mostrarSeccion('hoteles')" data-section="hoteles">ğŸ¨ Hoteles</button>
            <button class="nav-btn" onclick="mostrarSeccion('micrositios')" data-section="micrositios">ğŸŒ Micrositios</button>
            <button class="nav-btn" onclick="mostrarSeccion('stats')" data-section="stats">ğŸ“Š EstadÃ­sticas</button>
        </nav>

        <main class="admin-content">
            <!-- SECCIÃ“N HOTELES -->
            <section id="hoteles" class="content-section active">
                <div class="section-header">
                    <h2>GestiÃ³n de Hoteles</h2>
                    <button onclick="abrirFormularioHotel()" class="btn-primary">â• Crear Hotel</button>
                </div>
                <div id="lista-hoteles" class="micrositios-grid"></div>
            </section>

            <!-- SECCIÃ“N MICROSITIOS -->
            <section id="micrositios" class="content-section">
                <div class="section-header">
                    <h2>ğŸŒ GestiÃ³n de Micrositios</h2>
                    <button onclick="crearMicrositio()" class="btn-primary">+ Crear Micrositio</button>
                </div>
                <div id="lista-micrositios" class="micrositios-grid"></div>
            </section>

            <!-- SECCIÃ“N ESTADÃSTICAS -->
            <section id="stats" class="content-section">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ğŸ¨</div>
                        <div class="stat-content">
                            <h3 id="total-hotels">0</h3>
                            <p>Total de Hoteles</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ğŸŒ</div>
                        <div class="stat-content">
                            <h3 id="total-micrositios">0</h3>
                            <p>Micrositios Creados</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- MODAL HOTEL -->
    <div id="modal-hotel" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="titulo-modal-hotel">ğŸ¨ Crear Hotel</h2>
                <button onclick="cerrarModalHotel()" class="modal-close">&times;</button>
            </div>
            <form id="form-hotel" class="hotel-form">
                <div class="form-section">
                    <h4>ğŸ“‹ InformaciÃ³n BÃ¡sica</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ğŸ¨ Nombre del Hotel *</label>
                            <input type="text" id="hotel-nombre" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ”— Slug/URL *</label>
                            <input type="text" id="hotel-slug" class="form-input" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ğŸ“ Ciudad *</label>
                            <input type="text" id="hotel-ciudad" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ—ºï¸ Departamento *</label>
                            <input type="text" id="hotel-departamento" class="form-input" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“ DescripciÃ³n *</label>
                        <textarea id="hotel-descripcion" class="form-input" rows="3" required></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h4>ğŸ“¸ Imagen Principal</h4>
                    <div class="form-group">
                        <label>ğŸ–¼ï¸ URL de la Imagen *</label>
                        <input type="url" id="hotel-imagen" class="form-input" required>
                    </div>
                </div>

                <div class="form-section">
                    <h4>ğŸ’° Precios</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ğŸ’² Precio por Noche (COP)</label>
                            <input type="number" id="hotel-precio-noche" class="form-input">
                        </div>
                        <div class="form-group">
                            <label>ğŸ·ï¸ Rango de Precio</label>
                            <select id="hotel-precio" class="form-input">
                                <option value="$">$ (EconÃ³mico)</option>
                                <option value="$$">$$ (Moderado)</option>
                                <option value="$$$">$$$ (Premium)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>âš™ï¸ Configuraciones</h4>
                    <div class="checkbox-item">
                        <input type="checkbox" id="hotel-netzerd" checked>
                        ğŸ”¥ Sistema Netzerd
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="hotel-activo" checked>
                        ğŸŒ Hotel Activo
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" onclick="cerrarModalHotel()" class="btn-secondary">Cancelar</button>
                    <button type="submit" class="btn-primary">ğŸ’¾ Guardar Hotel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- MODAL MICROSITIO -->
    <div id="modal-micrositio" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="titulo-modal-micrositio">ğŸŒ Crear Micrositio</h2>
                <button onclick="cerrarModalMicrositio()" class="modal-close">&times;</button>
            </div>
            <form id="form-micrositio" class="hotel-form">
                <div class="form-section">
                    <h4>ğŸ¨ Hotel Vinculado</h4>
                    <div class="form-group">
                        <label>Seleccionar Hotel *</label>
                        <select id="micro-hotel-id" class="form-input" required>
                            <option value="">-- Selecciona un hotel --</option>
                        </select>
                    </div>
                </div>

                <div class="form-section">
                    <h4>ğŸ“‹ InformaciÃ³n del Micrositio</h4>
                    <div class="form-group">
                        <label>ğŸ¨ TÃ­tulo del Micrositio *</label>
                        <input type="text" id="micro-titulo" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label>ğŸ“ DescripciÃ³n Extendida *</label>
                        <textarea id="micro-descripcion" class="form-input" rows="4" required></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>ğŸ“± WhatsApp *</label>
                            <input type="text" id="micro-whatsapp" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label>ğŸ“§ Email</label>
                            <input type="email" id="micro-email" class="form-input">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>ğŸ›ï¸ Habitaciones</h4>
                    <div id="habitaciones-container"></div>
                    <button type="button" onclick="agregarHabitacion()" class="btn-secondary">+ Agregar HabitaciÃ³n</button>
                </div>

                <div class="form-section">
                    <h4>âœ¨ Servicios</h4>
                    <div class="servicios-grid">
                        <label class="servicio-item">
                            <input type="checkbox" value="WiFi Gratis"> ğŸ“¶ WiFi Gratis
                        </label>
                        <label class="servicio-item">
                            <input type="checkbox" value="Desayuno"> ğŸ³ Desayuno
                        </label>
                        <label class="servicio-item">
                            <input type="checkbox" value="Aire Acondicionado"> â„ï¸ Aire Acondicionado
                        </label>
                        <label class="servicio-item">
                            <input type="checkbox" value="Parqueadero"> ğŸš— Parqueadero
                        </label>
                        <label class="servicio-item">
                            <input type="checkbox" value="Piscina"> ğŸŠ Piscina
                        </label>
                        <label class="servicio-item">
                            <input type="checkbox" value="Restaurante"> ğŸ½ï¸ Restaurante
                        </label>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" onclick="cerrarModalMicrositio()" class="btn-secondary">Cancelar</button>
                    <button type="button" onclick="previsualizarMicrositio()" class="btn-primary">ğŸ‘ï¸ Previsualizar</button>
                    <button type="submit" class="btn-primary">ğŸ’¾ Guardar Micrositio</button>
                </div>
            </form>
        </div>
    </div>

    <!-- MODAL PREVIEW -->
    <div id="modal-preview" class="modal">
        <div class="modal-content" style="max-width: 90%; width: 1000px;">
            <div class="modal-header">
                <h3>ğŸ‘ï¸ Vista Previa del Micrositio</h3>
                <button onclick="cerrarPreview()" class="modal-close">&times;</button>
            </div>
            <div style="padding: 20px;">
                <iframe id="preview-frame" style="width: 100%; height: 600px; border: 1px solid #ddd;"></iframe>
            </div>
            <div class="form-actions">
                <button onclick="cerrarPreview()" class="btn-secondary">Cerrar</button>
                <button onclick="descargarMicrositio()" class="btn-primary">ğŸ“¥ Descargar HTML</button>
            </div>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="admin.js"></script>
</body>
</html>